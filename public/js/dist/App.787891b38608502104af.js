(()=>{"use strict";var e,t={470(e,t,a){var n=a(540),r=a(961);function l(e){return n.createElement("div",{className:"jeopardyAnswer"},n.createElement("span",{className:"fetchedAnswer"},e.question[0].answer)," ")}function s(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"jeopardyQuestion"},e.question[0].question))}function c(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"jeopardyValue"},e.question[0].value))}function o(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"jeopardyCategory"},e.question[0].category.title))}const i="setup",m="round1",u="round2",d="final",y="complete",p={ROUND_1:[200,400,600,800,1e3],ROUND_2:[400,800,1200,1600,2e3]},E={phase:i,players:[],currentPlayerIndex:0,currentRound:1,categories:[],answeredCells:new Set,dailyDoubleLocations:[],usedCategoryIds:new Set,selectedCell:null,modalType:null,activeQuestion:null};function v(e,t){return e+"-"+t}function f(e){let{onStartGame:t}=e;const[a,r]=(0,n.useState)(1),[l,s]=(0,n.useState)([""]),c=l.some(e=>e.trim().length>0);return n.createElement("div",{className:"gameSetupContainer"},n.createElement("div",{className:"gameSetupCard"},n.createElement("h1",{className:"setupTitle"},"This is JEOPARDY!"),n.createElement("div",{className:"setupSection"},n.createElement("h2",{className:"sectionTitle"},"Number of Players"),n.createElement("div",{className:"playerCountButtons"},[1,2,3].map(e=>n.createElement("button",{key:e,className:"playerCountButton "+(a===e?"active":""),onClick:()=>(e=>{r(e);const t=Array(e).fill("").map((e,t)=>l[t]||"");s(t)})(e)},e," Player",e>1?"s":"")))),n.createElement("div",{className:"setupSection"},n.createElement("h2",{className:"sectionTitle"},"Player Names"),n.createElement("div",{className:"playerInputs"},l.map((e,t)=>n.createElement("div",{key:t,className:"playerInputGroup"},n.createElement("label",{className:"playerLabel"},"Player ",t+1,":"),n.createElement("input",{type:"text",className:"playerInput",value:e,onChange:e=>((e,t)=>{const a=[...l];a[e]=t,s(a)})(t,e.target.value),placeholder:"Player "+(t+1),maxLength:20}))))),n.createElement("div",{className:"setupSection"},n.createElement("button",{className:"startGameButton",onClick:()=>{const e=l.map((e,t)=>e.trim()||"Player "+(t+1));t(e)},disabled:!c},n.createElement("h2",null,"Start Game")),n.createElement("p",{className:"setupHint"},"Leave names blank to use default player names"))))}function g(e){let{title:t}=e;return n.createElement("div",{className:"categoryHeader"},n.createElement("div",{className:"categoryHeaderTitle"},t))}function N(e){let{value:t,isAnswered:a,isDailyDouble:r,onClick:l,cellId:s}=e;return n.createElement("button",{className:"boardCell "+(a?"answered":""),onClick:()=>{!a&&l&&l(s)},disabled:a},!a&&n.createElement("div",{className:"cellValue"},"$",t))}function h(e){let{players:t,currentPlayerIndex:a}=e;return n.createElement("div",{className:"playerScoreboard"},n.createElement("div",{className:"scoreboardTitle"},"Players"),n.createElement("div",{className:"playerList"},t.map((e,t)=>{const r=t===a,l=e.score<0?"negative":e.score>0?"positive":"zero";return n.createElement("div",{key:e.id,className:"playerCard "+(r?"active":"")},n.createElement("div",{className:"playerName"},e.name,r&&n.createElement("span",{className:"turnIndicator"}," â—„")),n.createElement("div",{className:"playerScore "+l},"$",e.score.toLocaleString()))})))}function w(e){let{gameState:t,onCellClick:a}=e;const{categories:r,players:l,currentPlayerIndex:s,currentRound:c,answeredCells:o,dailyDoubleLocations:i}=t,m=1===c?p.ROUND_1:p.ROUND_2,u=e=>{const{categoryIndex:t,valueIndex:n}=function(e){const[t,a]=e.split("-").map(Number);return{categoryIndex:t,valueIndex:a}}(e),l=r[t].clues[n],s=m[n];a({cellId:e,clue:l,value:s,categoryIndex:t,valueIndex:n,isDailyDouble:i.includes(e)})};return n.createElement("div",{className:"gameBoardContainer"},n.createElement("div",{className:"gameBoardHeader"},n.createElement("img",{className:"jeopardyLogoSmall",src:"https://i.imgur.com/aDK80QC.png",alt:"Jeopardy Logo"})),n.createElement(h,{players:l,currentPlayerIndex:s}),n.createElement("div",{className:"gameBoard"},n.createElement("div",{className:"categoryHeaders"},r.map((e,t)=>n.createElement(g,{key:e.id,title:e.title}))),n.createElement("div",{className:"boardGrid"},m.map((e,t)=>n.createElement("div",{key:t,className:"boardRow"},r.map((a,r)=>{const l=v(r,t),s=o.has(l),c=i.includes(l);return n.createElement(N,{key:l,cellId:l,value:e,isAnswered:s,isDailyDouble:c,onClick:u})}))))))}function C(e){let{clue:t,value:a,category:r,players:l,activeQuestion:s,onBuzzIn:c,onCorrect:o,onIncorrect:i,onClose:m,isDailyDouble:u=!1}=e;const[d,y]=(0,n.useState)("BUZZER_ACTIVE"),[p,E]=(0,n.useState)(!1),[v,f]=(0,n.useState)(5e3),[g,N]=(0,n.useState)(!0),[h,w]=(0,n.useState)(!1),[C,b]=(0,n.useState)(!1),[S,I]=(0,n.useState)(!1),[k,P]=(0,n.useState)(!1),[A,B]=(0,n.useState)(!1),[T,D]=(0,n.useState)(5e3),O=(0,n.useRef)(null),j=(0,n.useRef)(Date.now());(0,n.useEffect)(()=>{if(s&&s.isLocked&&!p)return O.current&&cancelAnimationFrame(O.current),void N(!1);j.current=Date.now(),N(!0);const e=()=>{const t=Date.now()-j.current,a=Math.max(0,T-t);if(f(a),a>0)O.current=requestAnimationFrame(e);else if(N(!1),p){w(!0),x();const e=u?l[0].id:(null==s?void 0:s.currentBuzzer)||l[0].id;setTimeout(()=>{i(e)},2e3)}else s&&s.currentBuzzer?(w(!0),E(!0),x(),setTimeout(()=>{i(s.currentBuzzer)},3e3)):m()};return O.current=requestAnimationFrame(e),()=>{O.current&&cancelAnimationFrame(O.current)}},[s,u,i,m,p,T]),(0,n.useEffect)(()=>{if(u)return;if("BUZZER_ACTIVE"!==d)return;if(!s)return;const e=e=>{" "!==e.key&&"Enter"!==e.key&&"Shift"!==e.key||e.preventDefault();const t=e=>s.remainingPlayers.includes(e);"Shift"===e.key&&e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT&&t(1)?c(1):" "===e.key&&t(2)?c(2):"Enter"===e.key&&t(3)&&c(3)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,s,u,c]),(0,n.useEffect)(()=>{u?y("LOCKED_IN"):s&&(s.isLocked&&!p?y("LOCKED_IN"):y(p?"JUDGING":"BUZZER_ACTIVE"))},[s,p,u]);const x=()=>{const e=new(window.AudioContext||window.webkitAudioContext),t=t=>{const a=e.createOscillator(),n=e.createGain();a.connect(n),n.connect(e.destination),a.type="sawtooth",a.frequency.value=200,n.gain.setValueAtTime(0,e.currentTime+t),n.gain.linearRampToValueAtTime(.3,e.currentTime+t+.01),n.gain.linearRampToValueAtTime(0,e.currentTime+t+.3),a.start(e.currentTime+t),a.stop(e.currentTime+t+.3)};t(0),t(.35)},z=v/T*100,M=s&&s.currentBuzzer?l.find(e=>e.id===s.currentBuzzer):null;return n.createElement("div",{className:"modalOverlay",onClick:m},n.createElement("div",{className:"questionModal "+(h?"timedOut":"")+" "+(S?"correctSubmitted":"")+" "+(k?"incorrectSubmitted":"")+" "+(A?"allWrong":""),onClick:e=>e.stopPropagation()},n.createElement("button",{className:"modalCloseButton",onClick:m},"Ã—"),n.createElement("div",{className:"modalHeader"},n.createElement("div",{className:"modalCategory"},r),n.createElement("div",{className:"modalValue"},"$",a)),n.createElement("div",{className:"modalContent"},u?n.createElement("div",{className:"modalCurrentPlayer"},l[0].name,"'s Turn (Daily Double!)"):M?n.createElement("div",{className:"modalCurrentPlayer"},M.name," Buzzed In!"):n.createElement("div",{className:"modalCurrentPlayer"},"Press your buzzer!"),!C&&!h&&n.createElement("div",{className:"timerContainer"},n.createElement("div",{className:"timerBar"},n.createElement("div",{className:"timerProgress",style:{transform:"scaleX("+z/100+")"}}))),!u&&s&&n.createElement("div",{className:"playerBuzzStatus"},l.map(e=>{const t=s.attemptedAnswers[e.id],a=s.remainingPlayers.includes(e.id),r=s.currentBuzzer===e.id;return n.createElement("div",{key:e.id,className:"playerStatusCard "+(r?"active-buzzer":"")+" "+(!1===(null==t?void 0:t.correct)?"attempted-wrong":"")+" "+(!0===(null==t?void 0:t.correct)?"attempted-right":"")+" "+(a||t?"":"locked-out")},n.createElement("div",{className:"playerStatusName"},e.name),n.createElement("div",{className:"playerStatusIndicator"},r&&"ðŸ”” BUZZED IN",!0===(null==t?void 0:t.correct)&&"âœ“ CORRECT",!1===(null==t?void 0:t.correct)&&"âœ— WRONG",a&&!r&&"â± WAITING",!a&&!t&&"ðŸ”’ OUT"))})),n.createElement("div",{className:"modalQuestion"},t.question),!u&&"BUZZER_ACTIVE"===d&&s&&!p&&n.createElement("div",{className:"buzzInButtons"},s.remainingPlayers.map(e=>{const t=l.find(t=>t.id===e);return n.createElement("button",{key:e,className:"buzzInButton player-"+e,onClick:()=>c(e)},"ðŸ”” BUZZ IN - ",t.name)})),p?n.createElement(n.Fragment,null,n.createElement("div",{className:"modalAnswer"},t.answer),!h&&!A&&n.createElement("div",{className:"modalActions"},n.createElement("button",{className:"modalButton correctButton",onClick:()=>{b(!0),I(!0),N(!1),O.current&&cancelAnimationFrame(O.current),(()=>{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.type="sine",t.frequency.value=800,a.gain.setValueAtTime(0,e.currentTime),a.gain.linearRampToValueAtTime(.3,e.currentTime+.01),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4),t.start(e.currentTime),t.stop(e.currentTime+.4)})();const e=u?l[0].id:s.currentBuzzer;setTimeout(()=>{o(e)},1e3)},disabled:C},"âœ“ Correct"),n.createElement("button",{className:"modalButton incorrectButton",onClick:()=>{b(!0),P(!0),N(!1),O.current&&cancelAnimationFrame(O.current),x();const e=u?l[0].id:s.currentBuzzer;i(e)},disabled:C},"âœ— Incorrect")),h&&n.createElement("div",{className:"timeoutMessage"},"TIME'S UP! Points deducted."),A&&n.createElement("div",{className:"allWrongMessage"},"NOBODY GOT IT RIGHT!")):n.createElement(n.Fragment,null,("LOCKED_IN"===d||u)&&n.createElement("button",{className:"modalButton showAnswerButton",onClick:()=>{E(!0);const e=Math.max(v,3e3);D(e),f(e),j.current=Date.now(),N(!0)}},"Show Answer")))))}function b(e){let{category:t,currentPlayer:a,currentRound:r,onWagerSubmit:l,onClose:s}=e;const[c,o]=(0,n.useState)(""),[i,m]=(0,n.useState)(""),u=1===r?1e3:2e3,d=a.score>0?Math.max(a.score,u):u,y=()=>{const e=parseInt(c,10);isNaN(e)?m("Please enter a valid number"):e<5?m("Minimum wager is $5"):e>d?m("Maximum wager is $"+d):l(e)};return n.createElement("div",{className:"modalOverlay",onClick:s},n.createElement("div",{className:"dailyDoubleModal",onClick:e=>e.stopPropagation()},n.createElement("button",{className:"modalCloseButton",onClick:s},"Ã—"),n.createElement("div",{className:"dailyDoubleHeader"},n.createElement("div",{className:"dailyDoubleAnnouncement"},"DAILY DOUBLE!"),n.createElement("div",{className:"dailyDoubleCategory"},t)),n.createElement("div",{className:"dailyDoubleContent"},n.createElement("div",{className:"dailyDoublePlayer"},a.name,"'s Turn"),n.createElement("div",{className:"dailyDoubleScore"},"Current Score: $",a.score),n.createElement("div",{className:"wagerSection"},n.createElement("label",{className:"wagerLabel"},"Enter Your Wager:"),n.createElement("input",{type:"number",className:"wagerInput",value:c,onChange:e=>{const t=e.target.value;o(t),m("")},onKeyPress:e=>{"Enter"===e.key&&y()},min:5,max:d,placeholder:"$5 - $"+d,autoFocus:!0}),n.createElement("div",{className:"wagerHint"},"Min: $",5," | Max: $",d),i&&n.createElement("div",{className:"wagerError"},i)),n.createElement("button",{className:"modalButton submitWagerButton",onClick:y},"Submit Wager"))))}function S(e){let{currentRound:t,players:a,onContinue:r}=e;const l=[...a].sort((e,t)=>t.score-e.score),s=1===t?2:"Final Jeopardy";return n.createElement("div",{className:"transitionOverlay"},n.createElement("div",{className:"transitionCard"},n.createElement("div",{className:"transitionHeader"},n.createElement("h1",{className:"transitionTitle"},"Round ",t," Complete!")),n.createElement("div",{className:"transitionContent"},n.createElement("div",{className:"transitionScores"},n.createElement("h2",{className:"scoresTitle"},"Current Standings"),n.createElement("div",{className:"scoresList"},l.map((e,t)=>n.createElement("div",{key:e.id,className:"transitionPlayerCard "+(0===t?"leading":"")},n.createElement("span",{className:"playerRank"},1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":0===t?"ðŸ¥‡":""),n.createElement("span",{className:"playerName"},e.name),n.createElement("span",{className:"playerScore"},"$",e.score))))),n.createElement("div",{className:"transitionMessage"},"Get ready for ",s,"!"),n.createElement("button",{className:"continueButton",onClick:r},"Continue to ",s))))}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I.apply(null,arguments)}const k="intro",P="wagers",A="question",B="answers";function T(e){let{category:t,clue:a,players:r,onComplete:l}=e;const[s,c]=(0,n.useState)(k),[o,i]=(0,n.useState)({}),[m,u]=(0,n.useState)(0),[d,y]=(0,n.useState)(""),[p,E]=(0,n.useState)(""),[v,f]=(0,n.useState)(!1),[g,N]=(0,n.useState)(!1),[h,w]=(0,n.useState)(0),[C,b]=(0,n.useState)({}),S=r.filter(e=>e.score>0),T=()=>{const e=S[m],t=parseInt(d,10),a=e.score;isNaN(t)?E("Please enter a valid number"):t<0?E("Minimum wager is $0"):t>a?E("Maximum wager is $"+a):(i(I({},o,{[e.id]:t})),y(""),E(""),m<S.length-1?u(m+1):c(A))},D=e=>{const t=S[h],a=o[t.id];b(I({},C,{[t.id]:{wager:a,isCorrect:e,scoreChange:e?a:-a}})),h<S.length-1?w(h+1):l(C,a,e,S,h)},O=S[s===P?m:h];return s===k?n.createElement("div",{className:"modalOverlay"},n.createElement("div",{className:"finalJeopardyModal"},n.createElement("div",{className:"finalJeopardyHeader"},n.createElement("h1",{className:"finalJeopardyTitle"},"FINAL JEOPARDY!")),n.createElement("div",{className:"finalJeopardyContent"},n.createElement("div",{className:"finalJeopardyIntro"},n.createElement("p",{className:"fjIntroText"},"The final round! All players will wager and answer one question."),n.createElement("div",{className:"fjPlayerList"},S.map(e=>n.createElement("div",{key:e.id,className:"fjPlayerInfo"},n.createElement("span",{className:"fjPlayerName"},e.name),n.createElement("span",{className:"fjPlayerScore"},"$",e.score))))),n.createElement("button",{className:"modalButton fjContinueButton",onClick:()=>{c(P)}},"Begin Final Jeopardy")))):s===P&&O?n.createElement("div",{className:"modalOverlay"},n.createElement("div",{className:"finalJeopardyModal"},n.createElement("div",{className:"finalJeopardyHeader"},n.createElement("h2",{className:"fjStepTitle"},"Final Jeopardy Wager")),n.createElement("div",{className:"finalJeopardyContent"},n.createElement("div",{className:"fjCurrentPlayer"},O.name,"'s Wager"),n.createElement("div",{className:"fjPlayerScore"},"Current Score: $",O.score),n.createElement("div",{className:"wagerSection"},n.createElement("label",{className:"wagerLabel"},"Enter Your Wager:"),n.createElement("input",{type:"number",className:"wagerInput",value:d,onChange:e=>{y(e.target.value),E("")},onKeyPress:e=>"Enter"===e.key&&T(),min:0,max:O.score,placeholder:"$0 - $"+O.score,autoFocus:!0}),n.createElement("div",{className:"wagerHint"},"Min: $0 | Max: $",O.score),p&&n.createElement("div",{className:"wagerError"},p)),n.createElement("button",{className:"modalButton submitWagerButton",onClick:T},"Submit Wager")))):s===A?n.createElement("div",{className:"modalOverlay"},n.createElement("div",{className:"finalJeopardyModal"},n.createElement("div",{className:"finalJeopardyHeader"},n.createElement("h2",{className:"fjCategoryTitle"},t)),n.createElement("div",{className:"finalJeopardyContent"},v?n.createElement(n.Fragment,null,n.createElement("div",{className:"modalQuestion"},a.question),g?n.createElement("div",{className:"modalAnswer"},a.answer):n.createElement("button",{className:"modalButton showAnswerButton",onClick:()=>{N(!0),c(B)}},"Show Answer")):n.createElement(n.Fragment,null,n.createElement("div",{className:"fjCategoryMessage"},"All wagers are in. Here is your Final Jeopardy category:"),n.createElement("button",{className:"modalButton showAnswerButton",onClick:()=>{f(!0)}},"Show Question"))))):s===B&&O&&g?n.createElement("div",{className:"modalOverlay"},n.createElement("div",{className:"finalJeopardyModal"},n.createElement("div",{className:"finalJeopardyHeader"},n.createElement("h2",{className:"fjStepTitle"},O.name,"'s Answer")),n.createElement("div",{className:"finalJeopardyContent"},n.createElement("div",{className:"fjPlayerInfo"},n.createElement("div",{className:"fjInfoRow"},n.createElement("span",null,"Current Score:"),n.createElement("span",{className:"fjValue"},"$",O.score)),n.createElement("div",{className:"fjInfoRow"},n.createElement("span",null,"Wager:"),n.createElement("span",{className:"fjValue"},"$",o[O.id]))),n.createElement("div",{className:"fjAnswerPrompt"},"Did ",O.name," answer correctly?"),n.createElement("div",{className:"modalActions"},n.createElement("button",{className:"modalButton correctButton",onClick:()=>D(!0)},"âœ“ Correct"),n.createElement("button",{className:"modalButton incorrectButton",onClick:()=>D(!1)},"âœ— Incorrect"))))):null}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D.apply(null,arguments)}function O(e,t,a,n,r,l,s){try{var c=e[l](s),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(n,r)}function j(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var l=e.apply(t,a);function s(e){O(l,n,r,s,c,"next",e)}function c(e){O(l,n,r,s,c,"throw",e)}s(void 0)})}}const x="https://rithm-jeopardy.herokuapp.com/api";function z(){return M.apply(this,arguments)}function M(){return(M=j(function*(){try{const e=yield fetch(x+"/categories?count=100");if(!e.ok)throw new Error("API error: "+e.status);return yield e.json()}catch(e){throw console.error("Error fetching categories:",e),e}})).apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return(L=j(function*(e){try{const t=yield fetch(x+"/category?id="+e);if(!t.ok)throw new Error("API error: "+t.status);return yield t.json()}catch(t){throw console.error("Error fetching category "+e+":",t),t}})).apply(this,arguments)}function Q(e){return _.apply(this,arguments)}function _(){return(_=j(function(e,t){return void 0===t&&(t=new Set),function*(){const a=(yield z()).filter(e=>!t.has(e.id));if(a.length<e)throw new Error("Not enough categories available. Need "+e+", have "+a.length);const n=[...a].sort(()=>Math.random()-.5).slice(0,e);return yield Promise.all(n.map(e=>R(e.id)))}()})).apply(this,arguments)}function J(){return(J=j(function(e){return void 0===e&&(e=new Set),function*(){const t=(yield z()).filter(t=>!e.has(t.id));if(0===t.length)throw new Error("No categories available for Final Jeopardy");const a=t[Math.floor(Math.random()*t.length)],n=yield R(a.id),r=n.clues.reduce((e,t)=>(t.value||0)>(e.value||0)?t:e,n.clues[0]);return D({},n,{finalJeopardyClue:r})}()})).apply(this,arguments)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(null,arguments)}const $="jeopardy_game_state";function q(e){try{const t=F({},e,{answeredCells:Array.from(e.answeredCells||[]),usedCategoryIds:Array.from(e.usedCategoryIds||[]),dailyDoubleLocations:e.dailyDoubleLocations||[],timestamp:Date.now()});return localStorage.setItem($,JSON.stringify(t)),!0}catch(e){return console.error("Error saving game state:",e),!1}}function V(e){try{const t=Array.from(e);return localStorage.setItem("jeopardy_used_categories",JSON.stringify(t)),!0}catch(e){return console.error("Error saving used categories:",e),!1}}function G(e,t,a,n,r,l,s){try{var c=e[l](s),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(n,r)}function H(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var l=e.apply(t,a);function s(e){G(l,n,r,s,c,"next",e)}function c(e){G(l,n,r,s,c,"throw",e)}s(void 0)})}}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(null,arguments)}function U(){return(U=H(function*(e){const t=yield Q(6,e.usedCategoryIds),a=t.map(e=>e.id),n=new Set([...e.usedCategoryIds,...a]),r=Y(1),l=W({},e,{phase:m,currentRound:1,categories:t,answeredCells:new Set,dailyDoubleLocations:r,usedCategoryIds:n});return q(l),V(n),l})).apply(this,arguments)}function Z(){return(Z=H(function*(e){const t=yield Q(6,e.usedCategoryIds),a=t.map(e=>e.id),n=new Set([...e.usedCategoryIds,...a]),r=Y(2),l=W({},e,{phase:u,currentRound:2,categories:t,answeredCells:new Set,dailyDoubleLocations:r,usedCategoryIds:n});return q(l),V(n),l})).apply(this,arguments)}function K(){return K=H(function*(e){const t=yield function(){return J.apply(this,arguments)}(e.usedCategoryIds),a=W({},e,{phase:d,categories:[t],answeredCells:new Set,dailyDoubleLocations:[]});return q(a),a}),K.apply(this,arguments)}function Y(e){const t=function(e){return 1===e?1:2}(e),a=[],n=new Set;for(;a.length<t;){const e=v(Math.floor(6*Math.random()),Math.floor(5*Math.random()));n.has(e)||(a.push(e),n.add(e))}return a}function X(e,t,a,n){void 0===n&&(n=null);const r=[...e.players],l=null!==n?n:a;r[e.currentPlayerIndex].score+=t?l:-l;const s=new Set(e.answeredCells);e.selectedCell&&s.add(e.selectedCell);const c=W({},e,{players:r,answeredCells:s,currentPlayerIndex:t?e.currentPlayerIndex:(e.currentPlayerIndex+1)%r.length,selectedCell:null});return q(c),c}function ee(e,t,a,n,r){void 0===r&&(r=null);const l=[...e.players],s=l.findIndex(e=>e.id===t),c=null!==r?r:n;l[s].score+=a?c:-c;const o=W({},e.activeQuestion.attemptedAnswers,{[t]:{correct:a,timestamp:Date.now(),pointChange:a?c:-c}});if(a){const t=new Set(e.answeredCells);t.add(e.activeQuestion.cellId);const a=W({},e,{players:l,answeredCells:t,currentPlayerIndex:s,activeQuestion:null,selectedCell:null});return q(a),a}const i=e.activeQuestion.remainingPlayers.filter(e=>e!==t),m=W({},e,{players:l,activeQuestion:W({},e.activeQuestion,{attemptedAnswers:o,remainingPlayers:i,currentBuzzer:null,isLocked:!1,timerStartTime:Date.now()})});return q(m),m}function te(e){const t=new Set(e.answeredCells);t.add(e.activeQuestion.cellId);const a=W({},e,{answeredCells:t,activeQuestion:null,selectedCell:null,currentPlayerIndex:e.activeQuestion.originalSelector});return q(a),a}function ae(e){let{gameState:t,onNewGame:a}=e;const r=function(e){const t=Math.max(...e.players.map(e=>e.score));return e.players.filter(e=>e.score===t)}(t),l=[...t.players].sort((e,t)=>t.score-e.score),s=r.length>1,c=t.answeredCells?t.answeredCells.size:0;return n.createElement("div",{className:"gameBoardContainer"},n.createElement("div",{className:"gameCompleteCard"},n.createElement("div",{className:"gameCompleteHeader"},n.createElement("h1",{className:"gameCompleteTitle"},s?"It's a Tie!":"We Have a Winner!")),n.createElement("div",{className:"gameCompleteContent"},n.createElement("div",{className:"winnerSection"},s?n.createElement("div",{className:"winnerAnnouncement"},r.map((e,t)=>n.createElement("span",{key:e.id},e.name,t<r.length-1?" & ":""))):n.createElement("div",{className:"winnerAnnouncement"},r[0].name),n.createElement("div",{className:"winnerScore"},"$",r[0].score),n.createElement("div",{className:"winnerTrophy"},"ðŸ†")),n.createElement("div",{className:"finalScoreboard"},n.createElement("h2",{className:"finalScoresTitle"},"Final Standings"),n.createElement("div",{className:"finalScoresList"},l.map((e,t)=>n.createElement("div",{key:e.id,className:"finalPlayerCard "+(0===t?"winner":"")},n.createElement("span",{className:"finalRank"},0===t?"ðŸ¥‡":1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":t+1+"."),n.createElement("span",{className:"finalPlayerName"},e.name),n.createElement("span",{className:"finalPlayerScore"},"$",e.score))))),n.createElement("div",{className:"gameStats"},n.createElement("div",{className:"statItem"},n.createElement("span",{className:"statLabel"},"Rounds Played:"),n.createElement("span",{className:"statValue"},"3")),n.createElement("div",{className:"statItem"},n.createElement("span",{className:"statLabel"},"Questions Answered:"),n.createElement("span",{className:"statValue"},c)),n.createElement("div",{className:"statItem"},n.createElement("span",{className:"statLabel"},"Players:"),n.createElement("span",{className:"statValue"},t.players.length))),n.createElement("div",{className:"gameCompleteActions"},n.createElement("button",{className:"playAgainButton",onClick:a},"Play Again")))))}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ne.apply(null,arguments)}function re(e,t,a,n,r,l,s){try{var c=e[l](s),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(n,r)}function le(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var l=e.apply(t,a);function s(e){re(l,n,r,s,c,"next",e)}function c(e){re(l,n,r,s,c,"throw",e)}s(void 0)})}}function se(e){const[t,a]=(0,n.useState)(E),[r,p]=(0,n.useState)({}),[v,g]=(0,n.useState)(!1),[N,h]=(0,n.useState)(null),[I,k]=(0,n.useState)(!1),[P,A]=(0,n.useState)(null),[B,D]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=function(){try{const e=localStorage.getItem($);if(!e)return null;const t=JSON.parse(e);return F({},t,{answeredCells:new Set(t.answeredCells||[]),usedCategoryIds:new Set(t.usedCategoryIds||[])})}catch(e){return console.error("Error loading game state:",e),null}}();e&&a(e)},[]),(0,n.useEffect)(()=>{t.phase===i&&le(function*(){try{const e=yield fetch("https://rithm-jeopardy.herokuapp.com/api/categories?count=100"),t=yield e.json(),a=t[Math.floor(Math.random()*t.length)],n=yield fetch("https://rithm-jeopardy.herokuapp.com/api/category?id="+a.id),r=yield n.json(),l=r.clues[Math.floor(Math.random()*r.clues.length)];yield p([l])}catch(e){console.error(e)}})()},[t.phase]),(0,n.useEffect)(()=>{t.phase!==m&&t.phase!==u||30!==t.answeredCells.size||B||D(!0)},[t,B]);const O=function(){var e=le(function*(e){try{const t=function(e){const t=e.map((e,t)=>function(e,t){return{id:e,name:t||"Player "+e,score:0,isActive:1===e}}(t+1,e));return W({},E,{players:t,currentPlayerIndex:0,phase:i,usedCategoryIds:new Set})}(e),n=yield function(e){return U.apply(this,arguments)}(t);a(n)}catch(e){console.error("Error starting game:",e)}});return function(t){return e.apply(this,arguments)}}(),j=()=>{if(t.activeQuestion){const e=te(t);a(e)}h(null),k(!1),A(null)},x=function(){var e=le(function*(){try{if(1===t.currentRound){const e=yield function(e){return Z.apply(this,arguments)}(t);a(e),D(!1)}else if(2===t.currentRound){const e=yield function(e){return K.apply(this,arguments)}(t);a(e),D(!1)}}catch(e){console.error("Error starting next round:",e)}});return function(){return e.apply(this,arguments)}}(),z=(e,n,r,l,s)=>{const c=t.players.map(t=>{const a=e[t.id];return a?ne({},t,{score:t.score+a.scoreChange}):t}),o=l[s],i=r?n:-n,m=c.map(e=>e.id===o.id?ne({},e,{score:e.score+i}):e),u=function(e){const t=W({},e,{phase:y});return q(t),t}(ne({},t,{players:m}));a(u)};function M(){return(M=le(function*(){try{const e=yield fetch("https://rithm-jeopardy.herokuapp.com/api/categories?count=100"),t=yield e.json(),a=t[Math.floor(Math.random()*t.length)],n=yield fetch("https://rithm-jeopardy.herokuapp.com/api/category?id="+a.id),r=yield n.json(),l=r.clues[Math.floor(Math.random()*r.clues.length)];p([l]),g(!1)}catch(e){console.log(e)}})).apply(this,arguments)}if(t.phase===i)return n.createElement(f,{onStartGame:O});if(t.phase===m||t.phase===u)return n.createElement(n.Fragment,null,n.createElement(w,{gameState:t,onCellClick:e=>{h(e);const n=(r=ne({},t,{activeQuestion:{cellId:e.cellId,originalSelector:t.currentPlayerIndex,buzzedPlayers:[],attemptedAnswers:{},currentBuzzer:null,timerStartTime:Date.now(),isLocked:!1,remainingPlayers:t.players.map(e=>e.id)}}),l=e.cellId,r.answeredCells.has(l)?r:W({},r,{selectedCell:l}));var r,l;a(n),e.isDailyDouble&&k(!0)}}),B&&n.createElement(S,{currentRound:t.currentRound,players:t.players,onContinue:x}),I&&N&&!B&&n.createElement(b,{category:t.categories[N.categoryIndex].title,currentPlayer:t.players[t.currentPlayerIndex],currentRound:t.currentRound,onWagerSubmit:e=>{A(e),k(!1)},onClose:j}),N&&!I&&!B&&n.createElement(C,{clue:N.clue,value:null!==P?P:N.value,category:t.categories[N.categoryIndex].title,players:t.players,activeQuestion:t.activeQuestion,onBuzzIn:e=>{const n=function(e,t){const a=W({},e.activeQuestion,{currentBuzzer:t,buzzedPlayers:[...e.activeQuestion.buzzedPlayers,t],isLocked:!0,timerPausedAt:Date.now()}),n=W({},e,{activeQuestion:a,currentPlayerIndex:e.players.findIndex(e=>e.id===t)});return q(n),n}(t,e);a(n)},onCorrect:e=>{if(!N)return;if(null!==P){const e=X(t,!0,N.value,P);return a(e),h(null),void A(null)}const n=ee(t,e,!0,N.value,null);a(n),h(null)},onIncorrect:e=>{if(!N)return;if(null!==P){const e=X(t,!1,N.value,P);return a(e),void setTimeout(()=>{h(null),A(null)},2e3)}const n=ee(t,e,!1,N.value,null);a(n),n.activeQuestion&&0===n.activeQuestion.remainingPlayers.length&&setTimeout(()=>{const e=te(n);a(e),h(null)},3e3)},onClose:j,isDailyDouble:null!==P}));if(t.phase===d){const e=t.categories[0],a=e.clues[0];return n.createElement(T,{category:e.title,clue:a,players:t.players,onComplete:z})}return t.phase===y?n.createElement(ae,{gameState:t,onNewGame:()=>{(function(){try{localStorage.removeItem($)}catch(e){console.error("Error clearing game state:",e)}})(),a(E)}}):n.createElement(n.Fragment,null,n.createElement("div",{className:"jeopardyPage"},n.createElement("div",{className:"jeopardyTitle"},n.createElement("img",{className:"jeopardyTitleImage",src:"https://i.imgur.com/aDK80QC.png"})),n.createElement("hr",{className:"jeopardyDivide"}),n.createElement("div",{className:"gameArea"},n.createElement("div",{className:"topGameArea"},n.createElement("span",{className:"categoryTitle"},"Category:"),n.createElement("span",{className:"categoryTitle"},"Value:"),n.createElement("div",{className:"leftSide catDiv"},n.createElement("br",null),Object.keys(r).length?n.createElement(o,{question:r}):""),n.createElement("div",{className:"rightSide valDiv"},n.createElement("br",null),Object.keys(r).length?n.createElement(c,{question:r}):"")),n.createElement("hr",null),n.createElement("span",{className:"gameQuestion"},"Question:"),n.createElement("div",{className:"questionArea"},n.createElement("br",null),Object.keys(r).length?n.createElement(s,{question:r}):""),n.createElement("hr",null),n.createElement("div",{className:"jeopardyScore"},n.createElement("span",{className:"gameScore"},"Score:Â  ",score)),n.createElement("br",null),n.createElement("div",{className:"scoreArea"},n.createElement("div",{className:"scoreDown"},n.createElement("button",{className:"scoreDownButton",onClick:decrement},"-")),"Â Â Â Â Â Â Â Â ",n.createElement("div",{className:"scoreUp"},n.createElement("button",{className:"scoreUpButton",onClick:increment},"+"))),n.createElement("br",null),n.createElement("hr",null),n.createElement("span",{className:"answerTitle"},"Answer:"),n.createElement("div",{className:"answerArea",style:{display:v?"block":"none"}},Object.keys(r).length?n.createElement(l,{question:r}):""))),n.createElement("div",{className:"gameButtons"},n.createElement("div",{className:"leftSide"},n.createElement("button",{className:"answerButton bottomButtons",onClick:()=>g(!v)},n.createElement("h3",null,"Show Answer"))),"Â Â Â Â Â ",n.createElement("div",{className:"rightSide"},n.createElement("button",{className:"getNewQuestionButton bottomButtons",onClick:function(){return M.apply(this,arguments)}},n.createElement("h3",null,"New Question")))))}const ce=document.getElementById("app");r.render(n.createElement(se,null),ce)}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,r,l)=>{if(!a){var s=1/0;for(m=0;m<e.length;m++){for(var[a,r,l]=e[m],c=!0,o=0;o<a.length;o++)(!1&l||s>=l)&&Object.keys(n.O).every(e=>n.O[e](a[o]))?a.splice(o--,1):(c=!1,l<s&&(s=l));if(c){e.splice(m--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[a,r,l]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={180:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[s,c,o]=a,i=0;if(s.some(t=>0!==e[t])){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(o)var m=o(n)}for(t&&t(a);i<s.length;i++)l=s[i],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(m)},a=self.webpackChunkbig_poppa_code_react_starter_kit=self.webpackChunkbig_poppa_code_react_starter_kit||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[961],()=>n(470));r=n.O(r)})();